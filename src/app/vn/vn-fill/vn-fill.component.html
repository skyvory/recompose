<md-sidenav-container>
	<md-sidenav mode="side" opened="true" #start (open)="closeStartButton.focus()" fxLayout="row" style="background-color:rgba(255,255,255,0.6);">
		<sidebar-selector></sidebar-selector>
	</md-sidenav>
	
	<md-toolbar>
		<span>Filling {{vn.title_jp}}</span>
		<!--<button md-button disabled (click)="start.open()">Menu</button>-->
	</md-toolbar>

	<div class="flex-container" fxLayout="row" fxLayoutWrap="wrap" fxLayoutAlign="space-around stretch">
		<div fxFlex="50">
			<md-input-container>
				<input md-input placeholder="vndb vn id" [(ngModel)]="vn.vndb_vn_id">
			</md-input-container>
			<button md-button (click)="retrieveVndbVn()">Load</button>
			<md-input-container style="width:100%;">
				<input md-input placeholder="title jp" [(ngModel)]="vn.title_jp">
			</md-input-container>
			<md-input-container style="width:100%;">
				<input md-input placeholder="title en" [(ngModel)]="vn.title_en">
			</md-input-container>
			<md-input-container style="width:50%">
				<input md-input placeholder="hashtag" [(ngModel)]="vn.hashtag">
			</md-input-container>

			<br />
			<div fxLayout="row">
				<md-input-container fxFlex="30">
					<input md-input disabled [(ngModel)]="vn.developer_id">
				</md-input-container>
				<md-select placeholder="Developer" [(ngModel)]="vn.developer_id" name="developer" fxFlex="70">
					<md-option template="ngFor let developer of developers" [value]="developer.id">
						{{developer.name_en || "-"}} | {{developer.name_jp || "-"}}
					</md-option>
				</md-select>
			</div>

			<br />
			<md-input-container>
				<input md-input placeholder="date release" type="date" [(ngModel)]="vn.date_release">
			</md-input-container>
			<md-input-container style="width:70%">
				<input md-input placeholder="image url" [(ngModel)]="vn.image">
			</md-input-container>
			<br />

			<md-slide-toggle [(ngModel)]="toggle.advanceOptions" [color]="primary">Advance options</md-slide-toggle>
			<br />

			<div *ngIf="toggle.advanceOptions">
				Add New Relation
				<md-input-container>
					<input md-input placeholder="Related VN ID" [(ngModel)]="vn.related_vn_id">
				</md-input-container>
			</div>

			<button *ngIf="fillState == 'new'" md-raised-button (click)="createVn()">Create</button>
			<button *ngIf="fillState == 'edit'" md-raised-button (click)="updateVn()">Update</button>
		</div>
		<div fxFlex="20">
			<div style="max-height:200px; max-width:300px; width:auto;height:200px;background-color:#65d8cc;">
				<img src="{{vn.image}}" style="max-height:200px; max-width:300px; width:auto;height:200px;display:block;margin:auto;">
			</div>
			<br />

			Dev create add-on
			<md-input-container style="width:100%;">
				<input md-input placeholder="name jp" #devNameJp>
			</md-input-container>
			<md-input-container style="width:100%;">
				<input md-input placeholder="name en" #devNameEn>
			</md-input-container>
			<button md-button (click)="createDeveloper(devNameEn.value, devNameJp.value);">Add Dev</button>
		</div>
	</div>
</md-sidenav-container>
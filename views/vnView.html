<div layout="row">
	<div flex="20">
		<form name="vnForm" ng-submit="$event.preventDefault(); searchVn()">
			<md-input-container>
				<label>search</label>
				<input ng-model="query.filter">
			</md-input-container>
		</form>
	</div>
	<md-button class="md-warn" ng-click="restoreSearchVn()" aria-label="clear search">
		<md-icon md-menu-origin md-svg-icon="bower_components/material-design-icons/action/svg/production/ic_youtube_searched_for_48px.svg"></md-icon>
	</md-button>

	<span flex></span>
	<div flex="20">
		<md-menu md-position-mode="target-right target" style="position:absolute;right:20px">
			<md-button class="md-icon-button" ng-click="$mdOpenMenu($event)" aria-label="VNDB option">
				<md-icon md-menu-origin md-svg-icon="bower_components/material-design-icons/navigation/svg/production/ic_more_vert_48px.svg"></md-icon>
			</md-button>
			<md-menu-content width="4">
				<md-menu-item>
					<md-button ng-click="setVndbCredential()">
						<div layout="row">
							<p flex>Set VNDB credential</p>
							<md-icon md-menu-align-target md-svg-icon=""></md-icon>
						</div>
					</md-button>
				</md-menu-item>
				<md-menu-item>
					<md-button ng-click="checkVndbCredential()">
						<div layout="row">
							<p flex>Check VNDB credential</p>
							<md-icon md-menu-align-target md-svg-icon=""></md-icon>
						</div>
					</md-button>
				</md-menu-item>
				<md-menu-item>
					<md-button ng-click="toggleVndbCredential()">
						<div layout="row">
							<p flex>Toggle VNDB credential {{vndb_toggle_button}}</p>
							<md-icon md-menu-align-target md-svg-icon=""></md-icon>
						</div>
					</md-button>
				</md-menu-item>
			</md-menu-content>
		</md-menu>
	</div>
</div>

<br />
<br />

<md-content  layout="column" flex style="background-color: transparent;">
	<md-data-table-toolbar ng-show="!selected.length" style="background-color: transparent;">
		<h4 class="md-title">Visual</h4>
	</md-data-table-toolbar>
	<md-data-table-toolbar class="alternate" ng-show="selected.length" style="background-color: transparent;">
		<div>{{selected.length}} {{selected.length > 1 ? 'items' : 'item'}} selected</div>
		<div flex></div>
		<md-button class="md-icon-button md-raised" ng-click="deleteVn($event)" aria-label="delete">
			<md-icon md-svg-src="bower_components/material-design-icons/action/svg/production/ic_delete_48px.svg"></md-icon>
		</button>
	</md-data-table-toolbar>
	<md-data-table-container>
		<table md-data-table class="md-primary" md-row-select="selected" md-progress="deferred" style="background-color: transparent;">
			<thead md-order="query.order" md-trigger="onorderchange">
				<tr>
					<th order-by="developer_id" name="Dev" unit=""></th>
					<th order-by="title_jp" name="Title" unit="j"></th>
					<th order-by="created_at" name="Created" unit=""></th>
					<th name="Predictive Eye"></th>
					<th name="One Seal"></th>
				</tr>
			</thead>
			<tbody>
				<tr md-disable-select="v.id == 'none'" ng-repeat="v in vns.data | orderBy: query.order">
					<td>{{v.developer_id}}</td>
					<td ng-show="v.title_jp">{{v.title_jp}}</td>
					<td ng-hide="v.title_jp">{{v.title_en}}</td>
					<td>{{v.created_at}}</td>
					<!-- translate additional assessment information to high-level imterpretation -->
					<script type="text/javascript">

					</script>
					<td>
						<span ng-if="v.status">{{v.status}}</span>
						<span ng-if="v.date_start && !v.date_end && !v.status">playing</span>
						<span ng-if="!v.date_start && !v.date_end && !v.status">idle</span>
						<span ng-if="v.date_start && v.date_end && !v.status">idle</span>
						<span>-</span>
						<span ng-if="v.node == 'vn'">vn</span>
						<span ng-if="v.node == 'h'">h</span>
						<span ng-if="!v.node">x</span>
						<span></span>
						<span ng-if="v.score_story">{{v.score_story}}</span>
						<span ng-if="!v.score_story">x</span>
						<span></span>
						<span ng-if="v.score_naki">{{v.score_naki}}</span>
						<span ng-if="!v.score_naki">x</span>
						<span></span>
						<span ng-if="v.score_nuki">{{v.score_nuki}}</span>
						<span ng-if="!v.score_nuki">x</span>
						<span></span>
						<span ng-if="v.score_graphic">{{v.score_graphic}}</span>
						<span ng-if="!v.score_graphic">x</span>
						<span></span>
						<span ng-if="v.score_all">{{v.score_all}}</span>
						<span ng-if="!v.score_all">x</span>
					</td>
					<td>
						<span ng-if="v.date_start && v.date_end && v.node && v.score_story && v.score_naki && v.score_nuki && v.score_graphic && v.score_all && v.status">&#x2713</span>
						<span ng-if="!v.date_start || !v.date_end || !v.node || !v.score_story || !v.score_naki || !v.score_nuki || !v.score_graphic || !v.score_all || !v.status">&#x2718</span>
					</td>
					<td>
						<div layout="row">
							<md-button ui-sref="vnTabs.assessment({id: v.id})" class="md-primary" style="min-width:0px;">
								<md-icon md-menu-origin md-svg-icon="bower_components/material-design-icons/action/svg/production/ic_assessment_48px.svg"></md-icon>
								Compose
							</md-button>
							<md-button ui-sref="editVn({id: v.id})" class="md-primary" style="min-width:0px;">
								<md-icon md-menu-origin md-svg-icon="bower_components/material-design-icons/editor/svg/production/ic_mode_edit_48px.svg"></md-icon>
								Edit
							</md-button>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</md-data-table-container>
	<md-data-table-pagination md-limit="query.limit" md-page="query.page" md-total="{{vns.total}}" md-trigger="onpagechange" md-row-select="[10, 30, 50, 100]"></md-data-table-pagination>
</md-content>

<md-button class="md-fab md-primary md-hue-3" aria-label="new" style="position:fixed;right:-25px;bottom:-25px;" ui-sref="newVn">
	<md-icon md-svg-src="bower_components/material-design-icons/content/svg/production/ic_add_48px.svg"></md-icon>
</md-button>